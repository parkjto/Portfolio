@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
@import url('https://fonts.googleapis.com/css2?family=Raleway:wght@700&display=swap');

:root {
  color: #0f172a;
  background-color: #ffffff;
  font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-weight: 400;
  line-height: 1.6;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  background: #ffffff;
  color: #0f172a;
  overflow-x: hidden; /* 가로 스크롤 방지 */
}

#root {
  width: 100%;
  overflow-x: hidden; /* 가로 스크롤 방지 */
}

/* 기본 반응형 유틸리티 */
img {
  max-width: 100%;
  height: auto;
}

/* 작은 화면에서 텍스트 줄바꿈 개선 */
@media (max-width: 768px) {
  body {
    font-size: 16px;
  }
}

a {
  color: inherit;
}

/* PDF Generation Utilities */

/* 
 * 화면상에서는 보이지 않지만 PDF 생성 시에만 적용되어야 하는 스타일입니다.
 * 하지만 html2canvas는 현재 화면에 렌더링된 요소를 캡처하므로,
 * '화면에 보이되 사용자에게는 보이지 않는' 상태(예: 오버레이나 보이지 않는 영역 등)로 처리해야 합니다.
 * 여기서는 PDF 생성 중(.generating-pdf)일 때 해당 요소들을 화면 밖으로 밀어내거나 
 * 덮개를 씌우는 등의 방식 대신,
 * html2canvas 캡처 시점에만 스타일을 변경하고 다시 복구하는 방식을 사용합니다.
 * 
 * 단, 사용자 요구사항: "다운할때 화면이 바뀌는게 보이면 안됨"
 * -> 이를 위해 PDF 생성용 복제본을 만들어서 캡처하거나,
 *    사용자가 보고 있는 화면 위를 덮는 Loading Overlay를 사용하여 깜빡임을 가려야 합니다.
 */

.pdf-only {
  display: none !important;
}

body.generating-pdf .pdf-only {
  display: block !important;
}

body.generating-pdf .pdf-hidden {
  display: none !important;
}

/* PDF Loading Overlay */
#pdf-loading-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(255, 255, 255, 0.98);
  z-index: 99999;
  justify-content: center;
  align-items: center;
  flex-direction: column;
}

body.generating-pdf #pdf-loading-overlay {
  display: flex;
}

.pdf-loader {
  border: 4px solid #f3f3f3;
  border-top: 4px solid #3498db;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
  margin-bottom: 20px;
}

.pdf-loading-text {
  font-family: 'Pretendard', sans-serif;
  font-size: 18px;
  color: #333;
  font-weight: 600;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* PDF 페이지 분리 및 내용 보호 */
body.generating-pdf section {
  page-break-inside: avoid;
  break-inside: avoid;
  page-break-after: always;
  break-after: page;
}

body.generating-pdf .pdf-separate-page {
  page-break-inside: avoid;
  break-inside: avoid;
  page-break-after: avoid;
  break-after: avoid;
}

/* PDF 생성 시 각 섹션이 한 페이지에 들어가도록 */
body.generating-pdf .hero,
body.generating-pdf .about-me,
body.generating-pdf .project-index-container,
body.generating-pdf #mybiz-overview,
body.generating-pdf #mybiz-flowchart,
body.generating-pdf #mybiz-problem,
body.generating-pdf #mybiz-solution,
body.generating-pdf #mybiz-result,
body.generating-pdf #naru-overview,
body.generating-pdf #naru-flowchart,
body.generating-pdf #naru-problem,
body.generating-pdf #naru-solution,
body.generating-pdf #naru-result,
body.generating-pdf #ige-overview,
body.generating-pdf #ige-flowchart,
body.generating-pdf #ige-problem,
body.generating-pdf #ige-solution,
body.generating-pdf #ige-learning,
body.generating-pdf .closing {
  page-break-inside: avoid;
  break-inside: avoid;
  page-break-after: always;
  break-after: page;
  min-height: fit-content;
}
